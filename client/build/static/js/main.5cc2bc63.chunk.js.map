{"version":3,"sources":["contexts/UserContext.js","components/ImageCrop/utils/cropImage.js","components/ImageCrop/components/snackbar/snackbar.jsx","components/ImageCrop/utils/dataURLtoFile.js","components/ImageCrop/components/cropper/cropper.jsx","components/ImageCrop/App.jsx","components/ImageCrop/components/backdrop/backdrop.jsx","components/create-post/CreatePost.js","components/navbar/Navbar.js","components/leftSideBar/LeftSideBar.js","components/home/Home.js","components/signIn/SignIn.js","components/signUp/SignUp.js","components/profile/Profile.js","components/otherProfile/OtherProfile.js","components/Change/ChangeProfilePic.js","components/ImageCrop/components/cropper/cropper-cover.jsx","components/ImageCrop/App -cover.jsx","components/Change/ChangeCoverPic.js","components/settings/components/ChangePass.js","components/settings/components/ChangeName.js","components/settings/components/DeleteAccount.js","components/settings/components/SignOutSetting.js","components/settings/Settings.js","components/forgotPassword/ForgotPass.js","components/forgotPassword/ResetPassword.js","components/Errors/FourOFourError.js","components/Errors/FIVEOO.js","reducers/UserReducer.js","App.js","index.js"],"names":["UserContext","createContext","createImage","url","Promise","resolve","reject","image","Image","addEventListener","error","setAttribute","src","getRadianAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","width","height","safeArea","sqrt","translate","rotate","drawImage","data","getImageData","putImageData","x","y","Alert","props","elevation","variant","useStyles","makeStyles","theme","root","marginTop","spacing","SnackbarContext","React","CustomizedSnackbars","children","classes","useState","open","severity","message","stateSnackbar","setStateSnackbar","handleClose","Provider","value","className","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","iconButton","position","top","right","cancelIcon","color","fontSize","RenderCropper","inputRef","useRef","triggerFileSelectPopup","current","click","setStateSnackbarContext","useContext","setImage","croppedArea","setCroppedArea","crop","setCrop","zoom","setZoom","onUpload","canvasDataUrl","toDataURL","convertedUrlToFile","sendFile","onClick","close","aspect","onCropChange","onZoomChange","onCropComplete","croppedAreaPercentage","croppedAreaPixels","Slider","min","step","onChange","e","accept","ref","event","target","files","reader","FileReader","readAsDataURL","result","style","display","onClear","title","App","file","selectedFile","closeModal","backdrop","zIndex","drawer","BackdropContext","SimpleBackdrop","setOpen","closeBackdrop","showBackdrop","Backdrop","CircularProgress","CreatePost","useHistory","setTitle","photo","setPhoto","setUrl","photoPrev","setPhotoPrev","uploadPhotoModal","setUploadPhotoModal","useEffect","FormData","append","fetch","method","body","then","res","json","console","log","catch","err","uploadPic","createPostHandler","headers","localStorage","getItem","JSON","stringify","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","window","location","reload","placeholder","Navbar","history","state","dispatch","isModal","setIsModal","foundUser","setFoundUser","search","setSearch","requests","setRequests","notificationOn","setNotificationOn","fetchposts2","_id","user","clear","push","to","alt","query","found","map","each","index","profilePhoto","name","id","requesterId","followId","LeftSideBar","margin","Home","posts","setPosts","comment","setCommnent","isPostModal","setIsPostModal","modalpost","setModalPost","modalpostLiCom","setModalPostLiCom","modalpostLikes","setModalPostLikes","modalpostComments","setModalPostComments","scrollerDiv","commentField","modalCommentField","fetchPosts","liComInfo","postID","post","likeDisLikePost","what","newPosts","makeComment","text","postId","likeOrDislike","likes","includes","postedBy","eachL","comments","eachC","test","newData","filter","SignIn","email","setEmail","password","setPassword","invalidLogin","setInvalidLogin","response","setItem","token","payload","SignUp","setName","isDupMail","setIsDupMail","isNameTouched","setIsNameTouched","isNameValid","trim","isNameInvalid","isEmailTouched","setIsEmailTouched","isEmailValid","String","toLowerCase","isEmailInvalid","isPasswordTouched","setIsPasswordTouched","isPasswordValid","isPasswordInvalid","isFormValid","nameHandler","onBlur","emailHandler","passworHandler","textAlign","Profile","userData","setUserData","showPhotos","setShowPhotos","showPosts","setshowPosts","showFollowers","setShowFollowers","showFollowing","setShowFollowing","following","setFollowing","followers","setFollowers","ProfilePicModal","setProfilePicModal","coverPicModal","setCoverPicModal","fetchposts","noPosts","coverPhoto","class","OtherProfile","userid","useParams","setRequested","pathname","requested","result2","ChangeProfilePic","newUrl","ChangeCoverPic","ChangePass","oldPass","setOldPass","newPass","setNewPass","confirmNewPass","setConfirmNewPass","oldpassError","setOldPassError","passwordOk","setPassowrdOk","notify","success","passwordChecker","ChangeName","newName","setNewName","setError","updated","parse","DeleteAccount","agreed","setAgreed","checked","SignOutSettings","Settings","path","exact","component","ForgotPass","sucess","setSucess","notFoundError","setNotFoundError","ResetPassword","resetToken","tokenExp","setTokenExp","isNewPassTouched","setIsNewPassTouched","isNewPassValid","isnewPassInvalid","notify1","notify2","href","newPassHandler","setInterval","setTimeout","FourOFourError","goBack","FIVEOO","reducer","action","Routing","startsWith","render","useReducer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5cc2bc63.chunk.js","sourcesContent":["import {createContext} from \"react\";\r\n\r\nexport const UserContext  = createContext(null);","/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} imageSrc - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\n\nconst createImage = (url) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst image = new Image();\n\t\timage.addEventListener(\"load\", () => resolve(image));\n\t\timage.addEventListener(\"error\", (error) => reject(error));\n\t\timage.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n\t\timage.src = url;\n\t});\n\nfunction getRadianAngle(degreeValue) {\n\treturn (degreeValue * Math.PI) / 180;\n}\n\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n\tconst image = await createImage(imageSrc);\n\tconst canvas = document.createElement(\"canvas\");\n\tconst ctx = canvas.getContext(\"2d\");\n\n\tconst maxSize = Math.max(image.width, image.height);\n\tconst safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n\t// set each dimensions to double largest dimension to allow for a safe area for the\n\t// image to rotate in without being clipped by canvas context\n\tcanvas.width = safeArea;\n\tcanvas.height = safeArea;\n\n\t// translate canvas context to a central location on image to allow rotating around the center.\n\tctx.translate(safeArea / 2, safeArea / 2);\n\tctx.rotate(getRadianAngle(rotation));\n\tctx.translate(-safeArea / 2, -safeArea / 2);\n\n\t// draw rotated image and store data.\n\tctx.drawImage(\n\t\timage,\n\t\tsafeArea / 2 - image.width * 0.5,\n\t\tsafeArea / 2 - image.height * 0.5\n\t);\n\n\tconst data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n\t// set canvas width to final desired crop size - this will clear existing context\n\tcanvas.width = pixelCrop.width;\n\tcanvas.height = pixelCrop.height;\n\n\t// paste generated rotate image with correct offsets for x,y crop values.\n\tctx.putImageData(\n\t\tdata,\n\t\t0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x,\n\t\t0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y\n\t);\n\n\t// As Base64 string\n\t// return canvas.toDataURL(\"image/jpeg\");\n\treturn canvas;\n}\n\nexport const generateDownload = async (imageSrc, crop) => {\n\tif (!crop || !imageSrc) {\n\t\treturn;\n\t}\n\n\tconst canvas = await getCroppedImg(imageSrc, crop);\n\n\tcanvas.toBlob(\n\t\t(blob) => {\n\t\t\tconst previewUrl = window.URL.createObjectURL(blob);\n\n\t\t\tconst anchor = document.createElement(\"a\");\n\t\t\tanchor.download = \"image.jpeg\";\n\t\t\tanchor.href = URL.createObjectURL(blob);\n\t\t\tanchor.click();\n\n\t\t\twindow.URL.revokeObjectURL(previewUrl);\n\t\t},\n\t\t\"image/jpeg\",\n\t\t0.66\n\t);\n};\n","import React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nfunction Alert(props) {\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\t\"& > * + *\": {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n}));\n\nexport const SnackbarContext = React.createContext();\n\nexport default function CustomizedSnackbars({ children }) {\n\tconst classes = useStyles();\n\n\tconst [stateSnackbar, setStateSnackbar] = React.useState({\n\t\topen: false,\n\t\tseverity: \"\",\n\t\tmessage: \"\",\n\t});\n\n\tconst setStateSnackbarContext = (open, message, severity) =>\n\t\tsetStateSnackbar({ ...stateSnackbar, open, message, severity });\n\n\tconst handleClose = () => setStateSnackbar({ ...stateSnackbar, open: false });\n\n\tconst { open, severity, message } = stateSnackbar;\n\n\treturn (\n\t\t<SnackbarContext.Provider value={setStateSnackbarContext}>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\t\t\topen={open}\n\t\t\t\t\tautoHideDuration={6000}\n\t\t\t\t\tonClose={handleClose}\n\t\t\t\t>\n\t\t\t\t\t<Alert onClose={handleClose} severity={severity}>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</SnackbarContext.Provider>\n\t);\n}\n","// To convert dataUrl (which we get from our blob) to a a file object\nexport const dataURLtoFile = (dataurl, filename) => {\n\tconst arr = dataurl.split(\",\");\n\tconst mime = arr[0].match(/:(.*?);/)[1];\n\tconst bstr = atob(arr[1]);\n\tlet n = bstr.length;\n\tconst u8arr = new Uint8Array(n);\n\n\twhile (n--) u8arr[n] = bstr.charCodeAt(n);\n\n\treturn new File([u8arr], filename, { type: mime });\n};\n","import React from \"react\";\nimport \"./cropper.css\";\n\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\n\n\nimport getCroppedImg, { generateDownload } from \"../../utils/cropImage\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { SnackbarContext } from \"../snackbar/snackbar\";\nimport { dataURLtoFile } from \"../../utils/dataURLtoFile\";\n\nimport { MdClear } from 'react-icons/md';\nimport { CgBrowser } from 'react-icons/cg';\nimport { FiUpload } from 'react-icons/fi';\nimport { FaCamera } from 'react-icons/fa';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\n\n\n\n\n\nconst useStyles = makeStyles({\n\ticonButton: {\n\t\tposition: \"absolute\",\n\t\ttop: \"20px\",\n\t\tright: \"20px\",\n\t},\n\tcancelIcon: {\n\t\tcolor: \"#00a3c8\",\n\t\tfontSize: \"50px\",\n\t\t\"&:hover\": {\n\t\t\tcolor: \"red\",\n\t\t},\n\t},\n});\n\nexport default function RenderCropper(props) {\n\tconst classes = useStyles();\n\n\tconst inputRef = React.useRef();\n\n\tconst triggerFileSelectPopup = () => inputRef.current.click();\n\n\tconst setStateSnackbarContext = React.useContext(SnackbarContext);\n\n\tconst [image, setImage] = React.useState(null);\n\tconst [croppedArea, setCroppedArea] = React.useState(null);\n\tconst [crop, setCrop] = React.useState({ x: 0, y: 0 });\n\tconst [zoom, setZoom] = React.useState(1);\n\n\tconst onCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\n\t\tsetCroppedArea(croppedAreaPixels);\n\t};\n\n\tconst onSelectFile = (event) => {\n\t\tif (event.target.files && event.target.files.length > 0) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.readAsDataURL(event.target.files[0]);\n\t\t\treader.addEventListener(\"load\", () => {\n\t\t\t\tsetImage(reader.result);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tconst onClear = () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tsetImage(null);\n\t};\n\n\tconst onUpload = async () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tconst canvas = await getCroppedImg(image, croppedArea);\n\t\tconst canvasDataUrl = canvas.toDataURL(\"image/jpeg\");\n\t\tconst convertedUrlToFile = dataURLtoFile(\n\t\t\tcanvasDataUrl,\n\t\t\t\"cropped-image.jpeg\"\n\t\t);\n\t\tprops.sendFile(convertedUrlToFile)\n\t};\n\n\treturn (\n\t\t<div className=\"change-pic-container\">\n            \n\t\t\t<div className=\"change-pic-middle-container\">\n\t\t\t<div className=\"change-pic-heading\">\n\t\t\t\t<AiOutlineCloseCircle onClick={()=>{\n\t\t\t\t\tprops.close(`close`);\n\t\t\t\t}}/>\n\t\t\t</div>\n\t\t\t\t<div className='container-cropper-wrapper'>\n\n\n\t\t\t\t\t<div className='container-cropper'>\n\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='cropper'>\n\t\t\t\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tzoom={zoom}\n\t\t\t\t\t\t\t\t\t\taspect={1}\n\t\t\t\t\t\t\t\t\t\tonCropChange={setCrop}\n\t\t\t\t\t\t\t\t\t\tonZoomChange={setZoom}\n\t\t\t\t\t\t\t\t\t\tonCropComplete={onCropComplete}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='slider'>\n\t\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\tvalue={zoom}\n\t\t\t\t\t\t\t\t\t\tonChange={(e, zoom) => setZoom(zoom)}\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : <div className=\"select-img-container\" onClick={triggerFileSelectPopup} >\n\n\t\t\t\t\t\t\t<div className='select-img-wrapper'>\n\t\t\t\t\t\t\t\t<FaCamera />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Please Select an image</p>\n\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div className='container-buttons'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onSelectFile}\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className='MdClear' onClick={() => onClear()} title=\"Remove Image\">\n\t\t\t\t\t\t<MdClear title=\"Close\"/>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className='CgBrowser' onClick={triggerFileSelectPopup} title=\"Browse Image\">\n\t\t\t\t\t\t<CgBrowser />\n\t\t\t\t\t</button>\n\n\n\t\t\t\t\t<button className='FiUpload' onClick={onUpload} title=\"Upload\">\n\t\t\t\t\t\t<FiUpload />\n\t\t\t\t\t</button>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nimport RenderCropper from \"./components/cropper/cropper\"\nexport default function App(props) {\n\treturn <RenderCropper\n\n\t\tsendFile={(file) => {\n\t\t\tprops.selectedFile(file)\n\t\t}}\n\n\t\tclose={(close) => {\n\t\t\tprops.closeModal(close)\n\t\t}}\n\n\t/>;\n}\n","import React from \"react\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nexport const BackdropContext = React.createContext();\n\nexport default function SimpleBackdrop({ children }) {\n\tconst classes = useStyles();\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst closeBackdrop = () => {\n\t\tsetOpen(false);\n\t};\n\tconst showBackdrop = () => {\n\t\tsetOpen(!open);\n\t};\n\n\treturn (\n\t\t<BackdropContext.Provider value={{ closeBackdrop, showBackdrop }}>\n\t\t\t<Backdrop\n\t\t\t\tclassName={classes.backdrop}\n\t\t\t\topen={open}\n\t\t\t\tonClick={closeBackdrop}\n\t\t\t>\n\t\t\t\t<CircularProgress color='inherit' />\n\t\t\t</Backdrop>\n\t\t\t{children}\n\t\t</BackdropContext.Provider>\n\t);\n}\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { AiOutlineCamera } from \"react-icons/ai\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport App from \"../ImageCrop/App\";\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\nconst CreatePost = (props) => {\r\n    const history = useHistory();\r\n    const [title, setTitle] = useState(\"\");\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState();\r\n    const [photoPrev, setPhotoPrev] = useState();\r\n    const [uploadPhotoModal, setUploadPhotoModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (photo) {\r\n            // createPostHandler();\r\n            uploadPic()\r\n        }\r\n\r\n\r\n    }, [photo])\r\n\r\n\r\n    const notify = () => toast.error('Please enter a title or a Photo', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n        \r\n                    setPhotoPrev(data.url)\r\n                    setUrl(data.url)\r\n\r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n\r\n    function createPostHandler() {\r\n\r\n        fetch(\"/post/create\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                title: title,\r\n                photo: url\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    notify()\r\n                }\r\n                else {\r\n           \r\n                    window.location.reload();\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    return <>\r\n        \r\n            <ToastContainer/>     \r\n\r\n        {(uploadPhotoModal) ? <RenderSnackbar>\r\n            <SimpleBackdrop>\r\n                <App\r\n                    selectedFile={(file) => {\r\n\r\n                        setPhoto(file)\r\n                        setUploadPhotoModal(false)\r\n\r\n                    }}\r\n\r\n                    closeModal={() => {\r\n                        setUploadPhotoModal(false)\r\n                    }}\r\n                />\r\n            </SimpleBackdrop>\r\n        </RenderSnackbar> : null}\r\n\r\n        <div className=\"create-post-container\">\r\n            <input\r\n                value={title}\r\n                onChange={(e) => {\r\n                    setTitle(e.target.value)\r\n                }}\r\n                type=\"text\"\r\n                className=\"create-post-title\"\r\n                placeholder=\"Whats on your mind ?\" />\r\n\r\n            <div className=\"preview-photo-container\">\r\n\r\n                {photoPrev ? <>\r\n                    <ImCancelCircle onClick={() => {\r\n                        setUrl()\r\n                        setPhotoPrev()\r\n                    }} />\r\n                    <img className=\"photo-preview\" src={photoPrev} /> </> : null}\r\n\r\n            </div>\r\n            <div className=\"post-file-container\">\r\n\r\n                <label onClick={() => {\r\n\r\n\r\n                    setUploadPhotoModal(true)\r\n\r\n                }} className=\"file-label\"><AiOutlineCamera /></label>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    onClick={() => {\r\n                        createPostHandler()\r\n\r\n                    }\r\n                    }\r\n                    className=\"create-post-submit\">Post</button>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </>\r\n\r\n\r\n}\r\n\r\nexport default CreatePost\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext'\r\nimport { GrSearch } from \"react-icons/gr\";\r\n\r\nimport { FiSettings } from \"react-icons/fi\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport { IoNotificationsOutline } from \"react-icons/io5\";\r\n\r\nconst Navbar = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [isModal, setIsModal] = useState(false)\r\n    const [foundUser, setFoundUser] = useState();\r\n    const [search, setSearch] = useState(\"\");\r\n    const [requests, setRequests] = useState([]);\r\n\r\n    const [notificationOn, setNotificationOn] = useState(false)\r\n \r\n    useEffect(() => {\r\n\r\n        if (state) {\r\n\r\n            fetchposts2()\r\n        }\r\n\r\n    }, [state])\r\n\r\n    function fetchUsers(query) {\r\n        setSearch(query);\r\n\r\n        fetch(\"/user/search-user\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                query\r\n            })\r\n\r\n\r\n        }).then((res => {\r\n            res.json().then((data) => {\r\n\r\n                setFoundUser(data.found)\r\n\r\n            })\r\n        })).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${state._id}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setRequests(data.user.requests)\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function declineRequest(id) {\r\n        fetch(`/user/decline-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                fetchposts2()\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function acceptRequest(id) {\r\n        fetch(`/user//accept-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                requesterId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                fetchposts2()\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function showLinks() {\r\n        if (state) {\r\n            return <>\r\n                <div className=\"search-bar-container\">\r\n                    <input type=\"text\" className=\"search-bar\" placeholder=\"Search for people\" value={search} onChange={(e) => { fetchUsers(e.target.value) }} />\r\n                    <Link to=\"/profile\"><GrSearch className=\"search-icon\" /></Link>\r\n\r\n\r\n                    {(foundUser) ?\r\n\r\n\r\n                        (foundUser.length > 0) ? <div className=\"found-container\"> {foundUser.map((each, index) => {\r\n                            return <div key={index}><Link to={`/${each._id}`} target=\"_blank\"><div className=\"found-user\" >\r\n                                <div className=\"found-user-image-container\">\r\n                                    <img src={each.profilePhoto} />\r\n                                </div>\r\n                                <p className=\"found-user-name\">{each.name}</p>\r\n                            </div></Link>\r\n                            </div>\r\n                        })}</div> :\r\n                            <div className=\"found-container\">\r\n                                <div className=\"found-user\">\r\n                                    <p className=\"found-user-name\">No users found</p>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        : null}\r\n                </div>\r\n\r\n\r\n                <div className=\"navbar-links\">\r\n\r\n                    <button className=\"requests-container-open-button\" onClick={() => { setNotificationOn(!notificationOn) }}><IoNotificationsOutline />{requests.length>0?<div className=\"notifications-count\">{requests.length}</div>:null}</button>\r\n                    <Link  to=\"/profile\" className=\"requests-container-open- navBlinks\" ><div className=\"profile-image-wrapper\"><img  src={state.profilePhoto} /></div></Link>\r\n                    <Link to=\"/settings/change-name\" className=\"requests-container-open-button navBlinks\" ><FiSettings/></Link>\r\n                    \r\n                    {/* <button className=\"logout-link\"\r\n\r\n                        onClick={() => setIsModal(true)}\r\n                    >Sign Out</button> */}\r\n\r\n                    {(requests) ?\r\n\r\n\r\n                        (requests.length > 0) ? <div className={(notificationOn) ? \"requests-container\" : \"requests-container notifications-not-active\"}> {requests.map((each, index) => {\r\n\r\n                            return <div className=\"requests-user\" key={index}>\r\n                                <div className=\"requests-user-image-container\">\r\n                                    <img src={each.profilePhoto} />\r\n                                </div>\r\n                                <Link to={`/${each._id}`} target=\"_blank\"><p className=\"requests-user-name\">{each.name}</p></Link>\r\n\r\n                                <div className=\"request-button-container\">\r\n                                    <button className=\"request-accept\" onClick={() => { acceptRequest(each._id) }}>Accept</button>\r\n                                    <button className=\"request-accept\" onClick={() => { declineRequest(each._id) }}>Decline</button>\r\n                                </div>\r\n                            </div>\r\n                        })}</div> :\r\n                            <div className={(notificationOn) ? \"requests-container\" : \"requests-container notifications-not-active\"}>\r\n                                <div className=\"requests-user\">\r\n                                    <p className=\"requests-user-name\">No requests</p>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        : null}\r\n\r\n\r\n                </div>\r\n\r\n            </>\r\n        }\r\n        else {\r\n            return <>\r\n\r\n            </>\r\n        }\r\n    }\r\n\r\n    return <>{isModal ? <div className=\"modal-background\">\r\n\r\n        <div className=\"modal-container\">\r\n            <h4>Sign Out </h4>\r\n\r\n            <button className=\"modal-cancel\" onClick={() => {\r\n                setIsModal(false)\r\n            }}><ImCancelCircle /></button>\r\n\r\n            <p>Are you sure you want to Sign Out ?</p>\r\n            <div className=\"modal-buttons\">\r\n                <button onClick={() => {\r\n\r\n                    setIsModal(false)\r\n                    localStorage.clear();\r\n                    dispatch({ type: \"CLEAR\" })\r\n                    history.push(\"/sign-in\")\r\n\r\n\r\n\r\n                }}\r\n                >Yes</button>\r\n                <button onClick={() => {\r\n                    setIsModal(false)\r\n                }}\r\n                >No</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div> : null}\r\n\r\n\r\n        <div className=\"navbar-container\">\r\n          \r\n                <Link to=\"/\" className=\"navbar-brand\">\r\n                    <img src=\"https://res.cloudinary.com/dagwb842k/image/upload/v1645510918/logo_oqwcfr.png\" alt=\"brandLogo\"/>\r\n                 \r\n                </Link>\r\n\r\n\r\n            {showLinks()}\r\n\r\n        </div>\r\n    </>\r\n\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useContext} from 'react'\r\nimport { Link} from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext'\r\nimport { MdRssFeed } from \"react-icons/md\";\r\nimport { FaUserAlt } from \"react-icons/fa\";\r\nimport { IoSettingsOutline } from \"react-icons/io5\";\r\n\r\n\r\n\r\nconst LeftSideBar = () => {\r\n\r\n    const { state, dispatch } = useContext(UserContext)\r\n    if(!state){\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div className=\"left-sidebar-container\">\r\n            <div className=\"left-sidebar-links-container\" >\r\n            <Link to=\"/profile\" className=\"left-sidebar-link-profile\">\r\n                        <div className=\"profile-image-wrapper\" style={{margin:\"2px\"}}><img  src={state.profilePhoto} /></div><p>{state.name}</p></Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/\"><div className=\"left-sidebar-link-icons\"><MdRssFeed/></div> <p>Feeds</p> </Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/profile\"><div className=\"left-sidebar-link-icons\"><FaUserAlt/></div> <p>Profile</p></Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/settings/change-name\"><div className=\"left-sidebar-link-icons\"><IoSettingsOutline/></div> <p>Settings</p></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LeftSideBar\r\n","import React, { useEffect, useState, useContext, useRef } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { ImQuotesLeft } from \"react-icons/im\";\r\nimport { MdPhotoCamera } from \"react-icons/md\";\r\nimport { RiShareForwardFill } from \"react-icons/ri\";\r\nimport CreatePost from \"../create-post/CreatePost\"\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\n\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n    const { state } = useContext(UserContext)\r\n    const [posts, setPosts] = useState([]);\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const [isModal, setIsModal] = useState(false)\r\n    const scrollerDiv = useRef();\r\n\r\n\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n\r\n    useEffect(() => {\r\n        fetchPosts();\r\n\r\n    }, [])\r\n\r\n\r\n    function fetchPosts() {\r\n        fetch(\"/post/view-all-posts\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setPosts(data)\r\n                    console.log(data)\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPostLiCom(data.post)\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchPosts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n\r\n    function makeComment(text, postId) {\r\n\r\n\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n                const newPosts = posts.map(each => {\r\n\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                fetchPosts()\r\n                liComInfo(postId)\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchPosts();\r\n                liComInfo(postId)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    function deletePost(postId) {\r\n\r\n        fetch(`./post/delete/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n\r\n                const newData = posts.filter((each) => {\r\n                    return data._id != each._id\r\n                })\r\n                setPosts(newData)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n                        <div className=\"post-modal-cancel-button\">\r\n                            <GrClose onClick={() => {\r\n                                setIsPostModal(false)\r\n                                setModalPost()\r\n                            }} />\r\n                        </div>\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            {modalpost.title && <p className=\"postModal-post-title\">{modalpost.title}</p>}\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> : null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Nothing to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n\r\n            </div>\r\n            {postModal()}\r\n            <div className=\"createPost-header\">\r\n                <div className=\"createPost-header-containers\">\r\n                    <ImQuotesLeft className=\" cp-one\" />\r\n                    <p>Share an update</p>\r\n                </div>\r\n                <div className=\"createPost-header-containers \">\r\n                    <MdPhotoCamera className=\" cp-two \" />\r\n                    <p>Upload a photo</p>\r\n                </div>\r\n\r\n                <div className=\"createPost-header-containers \">\r\n                    <RiShareForwardFill className=\" cp-three\" />\r\n                    <p>Share a Post</p>\r\n                </div>\r\n            </div>\r\n            <CreatePost\r\n            />\r\n\r\n            {(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n\r\n                return <div className=\"home-container\" key={index}>\r\n\r\n                    {isModal ? <div className=\"modal-background\">\r\n\r\n                        <div className=\"modal-container\">\r\n                            <h4>Delete Post </h4>\r\n\r\n                            <button className=\"modal-cancel\" onClick={() => {\r\n                                setIsModal(false)\r\n                            }}><ImCancelCircle /></button>\r\n\r\n                            <p>Are you sure you want to delete this post ?</p>\r\n                            <div className=\"modal-buttons\">\r\n                                <button onClick={() => {\r\n                                    deletePost(each._id)\r\n                                    setIsModal(false)\r\n                                }}\r\n                                >Yes</button>\r\n                                <button onClick={() => {\r\n                                    setIsModal(false)\r\n                                }}\r\n                                >No</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div> : null}\r\n                    <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                        <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                        <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                        <p className=\"post-card-title\">{each.title}</p>\r\n                        {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                        {each.photo && <div className=\"post-card-img-container\">\r\n                            <img onClick={() => {\r\n                                setIsPostModal(true)\r\n                                liComInfo(each._id)\r\n                                setModalPost(each)\r\n                            }} className=\"post-card-img\" src={each.photo} />\r\n                        </div>}\r\n\r\n\r\n                        <div className=\"li-com-container\">\r\n                            {likeOrDislike(each)}\r\n                            <span className=\"likes-number\" onClick={() => {\r\n                                setModalPostComments(false)\r\n                                setModalPostLikes(true)\r\n                                setIsPostModal(true)\r\n                                setModalPost(each)\r\n                            }}>{each.likes.length} Likes</span>\r\n                            <span> <BiCommentDots /></span>\r\n                            <label className=\"likes-number\" onClick={() => {\r\n                                setModalPostComments(true)\r\n                                setModalPostLikes(false)\r\n                                setIsPostModal(true)\r\n                                setModalPost(each)\r\n                            }}>{each.comments.length} Comments</label>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"comment-section\">\r\n                            <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                            {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                                if (commentField.current) {\r\n\r\n                                    (makeComment(commentField.current.value, each._id));\r\n\r\n                                }\r\n\r\n\r\n                            }}><MdSend /></button> : null}\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            })}\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState,useContext } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport { HiOutlineMail } from \"react-icons/hi\"\r\nimport { RiLockPasswordFill } from \"react-icons/ri\"\r\n\r\nconst SignIn = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState(\"tgaurav50@yahoo.com\")\r\n    const [password, setPassword] = useState(\"Shady@cr7\")\r\n    const [invalidLogin , setInvalidLogin] = useState(false)\r\n\r\n    function handler() {\r\n        fetch(\"/auth/sign-in\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: password\r\n            })\r\n        }).then(response => {\r\n\r\n            response.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    setInvalidLogin(true);\r\n                    setEmail(\"\")\r\n                    setPassword(\"\")\r\n                }\r\n                else {\r\n                    \r\n                    localStorage.setItem(\"jwt\", data.token);\r\n                    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n                    dispatch({ type: \"USER\", payload: data.user })\r\n\r\n                    history.push(\"/\")\r\n                }\r\n            })\r\n        })\r\n\r\n    }\r\n    if(state){\r\n        history.push(\"/\")\r\n    }\r\n  \r\n\r\n    return (\r\n        <>\r\n        <div className=\"auth-page\">\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page-image-container\">\r\n                    <img src=\"./auth.jpg\" />\r\n                </div>\r\n                <div className=\"sign-in-container\">\r\n                    <div className=\"sign-in-heading\">\r\n                        <p className=\"sign-in-heading-brand\">Login to SS</p>\r\n                        <p className=\"sign-in-heading-signin\">Welcome to the SS ! <br /> Login with the credentials used during registration</p>\r\n                    </div>\r\n\r\n                    <div className=\"sign-in-form\">\r\n                        <div className=\"sign-in-email-container\">\r\n                            <span><HiOutlineMail /></span>\r\n                            <div>\r\n                                <p>Email </p>\r\n                                <input type=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    className=\"sign-in-email-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"sign-in-passoword-container\">\r\n                            <span><RiLockPasswordFill /></span>\r\n                            <div>\r\n                                <p>Password</p>\r\n                                <input type=\"password\"\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"sign-in-passoword-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"remember-me-forgot-container\">\r\n                           <label><Link to=\"/forgot-password\">forgot password ?</Link></label>\r\n                        </div>\r\n                         {invalidLogin ? <p className=\"invalid-login\">Your Username and Password don't match !</p>:null}\r\n                        <button\r\n                            onClick={handler}\r\n                            className=\"sign-in-button\">Sign In</button>\r\n                        \r\n                        <p className=\"new-account-link\">Don\"t have an account? <Link to=\"/sign-up\">Register</Link></p>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { HiOutlineMail } from \"react-icons/hi\"\r\nimport { RiLockPasswordFill } from \"react-icons/ri\"\r\nimport { CgNametag } from \"react-icons/cg\"\r\n\r\n\r\nconst SignUp = () => {\r\n    const history = useHistory();\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    \r\n    const [isDupMail, setIsDupMail] = useState(false)\r\n    const [passwordOk, setPassowrdOk] = useState(true)\r\n\r\n\r\n    const [isNameTouched, setIsNameTouched] = useState(false);\r\n    const isNameValid = name.trim() !== \"\"\r\n    const isNameInvalid = !isNameValid && isNameTouched\r\n\r\n    const [isEmailTouched, setIsEmailTouched] = useState(false);\r\n    const isEmailValid = email.trim() !== \"\" && emailChecker()\r\n    const isEmailInvalid = !isEmailValid && isEmailTouched\r\n\r\n    const [isPasswordTouched, setIsPasswordTouched] = useState(false);\r\n    const isPasswordValid = password.trim() !== \"\" && passwordChecker()\r\n    const isPasswordInvalid = !isPasswordValid && isPasswordTouched\r\n\r\n\r\n    \r\n    var isFormValid = false;\r\n\r\n    \r\n\r\n    if(isNameValid && isEmailValid && isPasswordValid ){\r\n    \r\n        isFormValid = true\r\n    }\r\n\r\n\r\n    function nameHandler(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function emailHandler(e) {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    function passworHandler(e) {\r\n        setPassword(e.target.value)\r\n\r\n    }\r\n\r\n   \r\n    function nameBlurHandler() {\r\n        setIsNameTouched(true)\r\n    }\r\n\r\n    function emailBlurHandler() {\r\n        setIsEmailTouched(true)\r\n    }\r\n\r\n    function passwordBlurHandler() {\r\n        setIsPasswordTouched(true)\r\n    }\r\n\r\n\r\n    \r\n\r\n    function emailChecker() {\r\n\r\n        const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\r\n\r\n        if (re.test(String(email).toLowerCase())) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    function passwordChecker() {\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n\r\n        if (re.test(String(password))) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n\r\n    }\r\n    \r\n\r\n\r\n    function handler() {\r\n        setIsDupMail(false)\r\n        fetch(\"/auth/sign-up\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                email: email,\r\n                password: password\r\n            })\r\n        }).then(response => {\r\n            response.json().then(data => {\r\n                console.log(data)\r\n                if (data.error === \"email already exist\") {\r\n                    setIsDupMail(true)\r\n                }\r\n                else {\r\n                    history.push(\"/sign-in\")\r\n                }\r\n            })\r\n        })\r\n\r\n    }\r\n    return (\r\n\r\n\r\n        <>\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page-image-container\">\r\n                    <img src=\"./auth.jpg\" />\r\n                </div>\r\n                <div className=\"sign-in-container\">\r\n                    <div className=\"sign-in-heading\">\r\n                        <p className=\"sign-in-heading-brand\">Create an Account</p>\r\n                        <p className=\"sign-in-heading-signin\">Join SS Today !</p>\r\n                    </div>\r\n\r\n                    <div className=\"sign-in-form\">\r\n                        <div className=\"sign-in-name-container\">\r\n                            <span><CgNametag /></span>\r\n                            <div>\r\n                                <p>Name </p>\r\n                                <input type=\"text\"\r\n                                    value={name}\r\n                                    className=\"sign-in-name-input\" \r\n                                    onChange={(e) => { nameHandler(e) }} \r\n                                    onBlur={() => { nameBlurHandler() }}\r\n                                   \r\n                                    />\r\n                                    \r\n                              \r\n                             </div>\r\n                             \r\n\r\n                        </div>\r\n                        {isNameInvalid && <p className=\"invalid-login\"> Enter name properly !</p>}\r\n                        <div className=\"sign-in-email-container\">\r\n                            <span><HiOutlineMail /></span>\r\n                            <div>\r\n                                <p>Email </p>\r\n                                <input type=\"email\"\r\n                                    value={email}\r\n                                   className=\"sign-in-email-input\"\r\n                                   onChange={(e) => { emailHandler(e) }} \r\n                                    onBlur={() => { emailBlurHandler() }}\r\n                                    />\r\n                                  \r\n                            </div>\r\n\r\n                        </div>\r\n                        {isEmailInvalid&& <p className=\"invalid-login\"> Enter email address properly !</p>}\r\n\r\n                        <div className=\"sign-in-passoword-container\">\r\n                            <span><RiLockPasswordFill /></span>\r\n                            <div>\r\n                                <p>Password</p>\r\n                                <input type=\"password\"\r\n                                    value={password}\r\n                                    className=\"sign-in-passoword-input\"\r\n                                    onChange={(e) => { passworHandler(e) }} \r\n                                    onBlur={() => { passwordBlurHandler() }}\r\n                                    />\r\n                                    \r\n                            </div>\r\n\r\n                        </div>\r\n                        {isPasswordInvalid && <p className=\"invalid-login\"> Must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</p>}\r\n\r\n                        \r\n                        { isFormValid ? <button\r\n                            onClick={handler}\r\n                            className=\"sign-in-button\">Register</button> : <button className=\"sign-in-button invalid-button\">Register</button>}\r\n                       {isDupMail && <p className=\"invalid-login\" style={{textAlign: 'center'}}>This email is already registered.</p>}\r\n\r\n                        <p className=\"new-account-link\">Already have an account? <Link to=\"/sign-in\">Login</Link></p>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { AiOutlineCamera } from \"react-icons/ai\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\n\r\n\r\n\r\n\r\nconst Profile = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [posts, setPosts] = useState();\r\n    const [userData, setUserData] = useState()\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n    const [showPhotos, setShowPhotos] = useState(true);\r\n    const [showPosts, setshowPosts] = useState(false);\r\n    const [isModal, setIsModal] = useState(false)\r\n\r\n    const [showFollowers, setShowFollowers] = useState()\r\n    const [showFollowing, setShowFollowing] = useState()\r\n\r\n    const [following, setFollowing] = useState([]);\r\n    const [followers, setFollowers] = useState([])\r\n\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const scrollerDiv = useRef();\r\n    const [ProfilePicModal, setProfilePicModal] = useState(false);\r\n    const [coverPicModal, setCoverPicModal] = useState(false);\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        fetchposts();\r\n\r\n        if (state) {\r\n            fetchposts2()\r\n        }\r\n\r\n    }, [state])\r\n\r\n    function fetchposts() {\r\n        fetch(\"/post//view-my-posts\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setUserData(data.user);\r\n                    setPosts(data.found)\r\n                }\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${state._id}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setFollowers(data.user.followers)\r\n                    setFollowing(data.user.following)\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n\r\n                setModalPostLiCom(data.post)\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchposts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n    function makeComment(text, postId) {\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                liComInfo(postId)\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function deletePost(postId) {\r\n\r\n        fetch(`./post/delete/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n\r\n                const newData = posts.filter((each) => {\r\n                    return data._id != each._id\r\n                })\r\n                setPosts(newData)\r\n                window.location.reload();\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function returnPhotosSection() {\r\n        return <div className=\"profile-photos-container\" style={posts.length === 0 ?{display: 'block', marginTop:\"0\"}:{}}>\r\n\r\n            {(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n                if (each.photo) {\r\n                    return <div className=\"profile-photo-wrapper\" key={index}>\r\n                        <img onClick={() => {\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}\r\n                            src={each.photo}></img>\r\n                    </div>\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n\r\n\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    function returnPostsSection() {\r\n        return <>{(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n            return <div key={index}>\r\n\r\n\r\n                {isModal ? <div className=\"modal-background\">\r\n\r\n                    <div className=\"modal-container\">\r\n                        <h4>Delete Post </h4>\r\n\r\n                        <button className=\"modal-cancel\" onClick={() => {\r\n                            setIsModal(false)\r\n                        }}><ImCancelCircle /></button>\r\n\r\n                        <p>Are you sure you want to delete this post ?</p>\r\n                        <div className=\"modal-buttons\">\r\n                            <button onClick={() => {\r\n                                deletePost(each._id)\r\n                                setIsModal(false)\r\n                            }}\r\n                            >Yes</button>\r\n                            <button onClick={() => {\r\n                                setIsModal(false)\r\n                            }}\r\n                            >No</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div> : null}\r\n                <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                    <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                    <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                    <p className=\"post-card-title\">{each.title}</p>\r\n                    {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                    <img onClick={() => {\r\n                        setIsPostModal(true)\r\n                        liComInfo(each._id)\r\n                        setModalPost(each)\r\n                    }} className=\"post-card-img\" src={each.photo} />\r\n\r\n\r\n                    <div className=\"li-com-container\">\r\n                        {likeOrDislike(each)}\r\n                        <span className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(false)\r\n                            setModalPostLikes(true)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.likes.length} Likes</span>\r\n                        <span> <BiCommentDots /></span>\r\n                        <label className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(true)\r\n                            setModalPostLikes(false)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.comments.length} Comments</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"comment-section\">\r\n                        <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                        {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                            if (commentField.current) {\r\n\r\n                                (makeComment(commentField.current.value, each._id));\r\n\r\n                            }\r\n\r\n\r\n                        }}><MdSend /></button> : null}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        })}\r\n        </>\r\n    }\r\n\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n                        <div className=\"post-modal-cancel-button\">\r\n                            <GrClose onClick={() => {\r\n                                setIsPostModal(false)\r\n                                setModalPost()\r\n                            }} />\r\n                        </div>\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            <p className=\"postModal-post-title\">{modalpost.title}</p>\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes  && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments  && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} : </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> :null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchposts()\r\n                liComInfo(postId)\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n\r\n    function returnFollowersSection() {\r\n        \r\n        return <>\r\n            {followers.length===0? noPosts():followers.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n    function returnFollowingSection() {\r\n       return <>\r\n            {following.length===0? noPosts():following.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    function ProfilePicModalHandler() {\r\n        if (!ProfilePicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n            <div className=\"coverProfilePicModal-container-img-wrapper\">\r\n                <IoClose onClick={() => { setProfilePicModal(false) }} />\r\n                <img src={state.profilePhoto} />\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n\r\n    function coverPicModalHandler() {\r\n        if (!coverPicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n            <div className=\"coverProfilePicModal-container-img-wrapper\">\r\n                <IoClose onClick={() => { setCoverPicModal(false) }} />\r\n                <img src={state.coverPhoto} />\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Nothing to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n            </div>\r\n            {coverPicModalHandler()}\r\n            {ProfilePicModalHandler()}\r\n            {postModal()}\r\n\r\n            <div className=\"cover-photo-container\">\r\n                <img className=\"cover-photo\" src={state.coverPhoto} onClick={() => { setCoverPicModal(true) }} />\r\n                <Link to=\"/change-cover-picture\"><AiOutlineCamera /></Link>\r\n\r\n                <div className=\"profile-img-reference\">\r\n                    <div className=\"profile-img-wrapper\">\r\n                        <img src={state.profilePhoto} onClick={() => { setProfilePicModal(true) }} />\r\n\r\n                    </div>\r\n                    <Link to=\"/change-profile-picture\"><AiOutlineCamera /></Link>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"profile-container\">\r\n\r\n                <div className=\"profile-info-container\">\r\n\r\n                    <div className=\"profile-details-container\">\r\n                        <p>{userData.name}</p>\r\n                        <div className=\"profile-details-container-spans\">\r\n                            <span class={showPhotos?\"tabActive\":\"\"} onClick={() => {\r\n                                setShowPhotos(true)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(false)\r\n                            }}>Gallery</span>\r\n\r\n                            <span class={showPosts?\"tabActive\":\"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(true)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(false)\r\n                            }}>({posts.length}) Posts</span>\r\n                            <span class={showFollowers?\"tabActive\":\"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(true)\r\n                            }} > ({userData.followers.length}) Followers</span>\r\n                            <span class={showFollowing?\"tabActive\":\"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(true)\r\n                                setShowFollowers(false)\r\n                            }} >({userData.following.length}) Following</span>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {showPhotos ? returnPhotosSection() : null}\r\n\r\n                {showPosts ? returnPostsSection() : null}\r\n\r\n                {showFollowers ? returnFollowersSection() : null}\r\n\r\n                {showFollowing ? returnFollowingSection() : null}\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { useParams } from \"react-router-dom\"\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { RiUserFollowLine } from \"react-icons/ri\";\r\nimport { RiUserUnfollowLine } from \"react-icons/ri\";\r\nimport { AiOutlineLock } from \"react-icons/ai\";\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { IoClose } from \"react-icons/io5\"\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\n\r\n\r\n\r\n\r\nconst OtherProfile = () => {\r\n    const history = useHistory();\r\n    const { state } = useContext(UserContext)\r\n    const [userData, setUserData] = useState()\r\n    const [posts, setPosts] = useState();\r\n    const { userid } = useParams();\r\n\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const [isModal, setIsModal] = useState(false)\r\n\r\n    const [showPhotos, setShowPhotos] = useState(true);\r\n    const [showPosts, setshowPosts] = useState(false);\r\n    const [showFollowers, setShowFollowers] = useState()\r\n    const [showFollowing, setShowFollowing] = useState()\r\n\r\n    const [following, setFollowing] = useState([]);\r\n    const [followers, setFollowers] = useState([]);\r\n    const [requested, setRequested] = useState();\r\n\r\n    const [ProfilePicModal, setProfilePicModal] = useState(false);\r\n    const [coverPicModal, setCoverPicModal] = useState(false);\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const scrollerDiv = useRef();\r\n\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n\r\n    useEffect(() => {\r\n        if (state && window.location.pathname === `/${state._id}`) {\r\n            history.push(\"/profile\")\r\n        }\r\n        fetchposts();\r\n        fetchposts2()\r\n    }, [state])\r\n\r\n    function fetchposts() {\r\n        fetch(`/user/${userid}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/\")\r\n                }\r\n                else {\r\n                    setUserData(data.user)\r\n                    setPosts(data.post)\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${userid}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setRequested(data.user.requested)\r\n                    setFollowers(data.user.followers)\r\n                    setFollowing(data.user.following)\r\n                }\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n\r\n                setModalPostLiCom(data.post)\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    function followRequest(followId) {\r\n        fetch(`/user/request-follow`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setUserData(data.result)\r\n\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function declineRequest(id) {\r\n        fetch(`/user/cancel-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                setUserData(data.result2)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function unfollow(followId) {\r\n\r\n        fetch(`/user/unfollow`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setUserData(data.result)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchposts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchposts()\r\n                liComInfo(postId)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function makeComment(text, postId) {\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                liComInfo(postId)\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function returnPhotosSection() {\r\n        return <div className=\"profile-photos-container\" style={posts.length === 0 ? { display: 'block', marginTop: \"0\" } : {}}>\r\n            {posts.map((each, index) => {\r\n                if (each.photo) {\r\n                    return <div className=\"profile-photo-wrapper\" key={index}>\r\n                        <img onClick={() => {\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}\r\n                            src={each.photo}></img>\r\n                    </div>\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n\r\n\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    function returnPostsSection() {\r\n        return <>{(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n            return <div>\r\n\r\n                <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                    <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                    <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                    <p className=\"post-card-title\">{each.title}</p>\r\n                    {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                    <img onClick={() => {\r\n                        setIsPostModal(true)\r\n                        liComInfo(each._id)\r\n                        setModalPost(each)\r\n                    }} className=\"post-card-img\" src={each.photo} />\r\n\r\n\r\n                    <div className=\"li-com-container\">\r\n                        {likeOrDislike(each)}\r\n                        <span className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(false)\r\n                            setModalPostLikes(true)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.likes.length} Likes</span>\r\n                        <span> <BiCommentDots /></span>\r\n                        <label className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(true)\r\n                            setModalPostLikes(false)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.comments.length} Comments</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"comment-section\">\r\n                        <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                        {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                            if (commentField.current) {\r\n\r\n                                (makeComment(commentField.current.value, each._id));\r\n\r\n                            }\r\n\r\n\r\n                        }}><MdSend /></button> : null}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        })}\r\n        </>\r\n    }\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n                        <div className=\"post-modal-cancel-button\">\r\n                            <GrClose onClick={() => {\r\n                                setIsPostModal(false)\r\n                                setModalPost()\r\n                            }} />\r\n                        </div>\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img className=\"post-card-img\" src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            <p className=\"postModal-post-title\">{modalpost.title}</p>\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} : </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> : null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function returnFollowersSection() {\r\n        return <>\r\n            {following.length === 0 ? noPosts() : followers.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n    function returnFollowingSection() {\r\n        return <>\r\n            {following.length === 0 ? noPosts() : following.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    function ProfilePicModalHandler() {\r\n        if (!ProfilePicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n            <div className=\"coverProfilePicModal-container-img-wrapper\">\r\n                <IoClose onClick={() => { setProfilePicModal(false) }} />\r\n                <img src={userData.profilePhoto} />\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n\r\n    function coverPicModalHandler() {\r\n        if (!coverPicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n            <div className=\"coverProfilePicModal-container-img-wrapper\">\r\n                <IoClose onClick={() => { setCoverPicModal(false) }} />\r\n                <img src={userData.coverPhoto} />\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Nothing to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    function profileLocked() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Profile Locked</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <AiOutlineLock />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n            </div>\r\n            {coverPicModalHandler()}\r\n            {ProfilePicModalHandler()}\r\n            {postModal()}\r\n\r\n            <div className=\"cover-photo-container\">\r\n                <img className=\"cover-photo\" src={userData.coverPhoto} onClick={() => { setCoverPicModal(true) }} />\r\n\r\n\r\n            </div>\r\n            <div className=\"profile-img-reference\">\r\n                <div className=\"profile-img-wrapper\">\r\n                    <img src={userData.profilePhoto} onClick={() => { setProfilePicModal(true) }} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"profile-container\">\r\n\r\n                <div className=\"profile-info-container\">\r\n\r\n                    <div className=\"profile-details-container\">\r\n                        <p>{userData.name}</p>\r\n                        <div className=\"profile-details-button-container\">\r\n                            {userid !== state._id ? userData.followers.includes(state._id) ? <button onClick={() => { unfollow(userid) }}>Unfollow<RiUserUnfollowLine /></button> : (userData.requests.includes(state._id)) ? <button onClick={() => { declineRequest(userid) }}>Pending<RiUserUnfollowLine /></button> : <button onClick={() => { followRequest(userid) }}>Follow<RiUserFollowLine /></button> : null}\r\n                        </div>\r\n                        {!userData.followers.includes(state._id) && userid !== state._id ? profileLocked() : <div className=\"profile-details-container-spans\">\r\n                            <span class={showPhotos ? \"tabActive\" : \"\"} onClick={() => {\r\n                                setShowPhotos(true)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(false)\r\n                            }}>Gallery</span>\r\n\r\n                            <span class={showPosts ? \"tabActive\" : \"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(true)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(false)\r\n                            }}>({posts.length}) Posts</span>\r\n                            <span class={showFollowers ? \"tabActive\" : \"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(false)\r\n                                setShowFollowers(true)\r\n                            }} > ({userData.followers.length}) Followers</span>\r\n                            <span class={showFollowing ? \"tabActive\" : \"\"} onClick={() => {\r\n                                setShowPhotos(false)\r\n                                setshowPosts(false)\r\n                                setShowFollowing(true)\r\n                                setShowFollowers(false)\r\n                            }} >({userData.following.length}) Following</span>\r\n\r\n\r\n                        </div>}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {(showPhotos && userData.followers.includes(state._id)) === true ? returnPhotosSection() : null}\r\n\r\n                {(showPosts && userData.followers.includes(state._id)) === true ? returnPostsSection() : null}\r\n\r\n                {(showFollowers && userData.followers.includes(state._id)) === true ? returnFollowersSection() : null}\r\n\r\n                {(showFollowing && userData.followers.includes(state._id)) === true ? returnFollowingSection() : null}\r\n\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default OtherProfile\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport App from \"../ImageCrop/App\";\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\n\r\nconst ChangeProfilePic = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState()\r\n    const history = useHistory();\r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            changePic()\r\n        }\r\n    }, [url])\r\n    \r\n    useEffect(() => {\r\n        if (photo) {\r\n            uploadPic()\r\n        }\r\n    }, [photo])\r\n\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n                    setUrl(data.url)\r\n                    \r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n    function changePic() {\r\n\r\n        fetch(\"/change-dp\", {\r\n\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                newUrl: url\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n            \r\n                localStorage.setItem(\"user\", JSON.stringify(data));\r\n                dispatch({ type: \"USER\", payload: data })\r\n                history.push(\"/profile\")\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <RenderSnackbar>\r\n                <SimpleBackdrop>\r\n                    <App\r\n                        selectedFile={(file) => {\r\n\r\n                            setPhoto(file)\r\n                           \r\n\r\n                        }}\r\n\r\n                        closeModal={(close) => {\r\n                            history.push(\"/profile\")\r\n                        }}\r\n                    />\r\n                </SimpleBackdrop>\r\n            </RenderSnackbar>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ChangeProfilePic\r\n","import React from \"react\";\nimport \"./cropper.css\";\n\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\n\n\nimport getCroppedImg, { generateDownload } from \"../../utils/cropImage\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { SnackbarContext } from \"../snackbar/snackbar\";\nimport { dataURLtoFile } from \"../../utils/dataURLtoFile\";\n\nimport { MdClear } from 'react-icons/md';\nimport { CgBrowser } from 'react-icons/cg';\nimport { FiUpload } from 'react-icons/fi';\nimport { FaCamera } from 'react-icons/fa';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\n\n\n\n\n\nconst useStyles = makeStyles({\n\ticonButton: {\n\t\tposition: \"absolute\",\n\t\ttop: \"20px\",\n\t\tright: \"20px\",\n\t},\n\tcancelIcon: {\n\t\tcolor: \"#00a3c8\",\n\t\tfontSize: \"50px\",\n\t\t\"&:hover\": {\n\t\t\tcolor: \"red\",\n\t\t},\n\t},\n});\n\nexport default function RenderCropper(props) {\n\tconst classes = useStyles();\n\n\tconst inputRef = React.useRef();\n\n\tconst triggerFileSelectPopup = () => inputRef.current.click();\n\n\tconst setStateSnackbarContext = React.useContext(SnackbarContext);\n\n\tconst [image, setImage] = React.useState(null);\n\tconst [croppedArea, setCroppedArea] = React.useState(null);\n\tconst [crop, setCrop] = React.useState({ x: 0, y: 0 });\n\tconst [zoom, setZoom] = React.useState(1);\n\n\tconst onCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\n\t\tsetCroppedArea(croppedAreaPixels);\n\t};\n\n\tconst onSelectFile = (event) => {\n\t\tif (event.target.files && event.target.files.length > 0) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.readAsDataURL(event.target.files[0]);\n\t\t\treader.addEventListener(\"load\", () => {\n\t\t\t\tsetImage(reader.result);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tconst onClear = () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tsetImage(null);\n\t};\n\n\tconst onUpload = async () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tconst canvas = await getCroppedImg(image, croppedArea);\n\t\tconst canvasDataUrl = canvas.toDataURL(\"image/jpeg\");\n\t\tconst convertedUrlToFile = dataURLtoFile(\n\t\t\tcanvasDataUrl,\n\t\t\t\"cropped-image.jpeg\"\n\t\t);\n\t\tprops.sendFile(convertedUrlToFile)\n\t};\n\n\treturn (\n\t\t<div className=\"change-pic-container\">\n            \n\t\t\t<div className=\"change-pic-middle-container\">\n\t\t\t<div className=\"change-pic-heading\">\n\t\t\t\t<AiOutlineCloseCircle onClick={()=>{\n\t\t\t\t\tprops.close(`close`);\n\t\t\t\t}}/>\n\t\t\t</div>\n\t\t\t\t<div className='container-cropper-wrapper'>\n\n\n\t\t\t\t\t<div className='container-cropper'>\n\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='cropper'>\n\t\t\t\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tzoom={zoom}\n\t\t\t\t\t\t\t\t\t\taspect={2.62}\n\t\t\t\t\t\t\t\t\t\tonCropChange={setCrop}\n\t\t\t\t\t\t\t\t\t\tonZoomChange={setZoom}\n\t\t\t\t\t\t\t\t\t\tonCropComplete={onCropComplete}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='slider'>\n\t\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\tvalue={zoom}\n\t\t\t\t\t\t\t\t\t\tonChange={(e, zoom) => setZoom(zoom)}\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : <div className=\"select-img-container\" onClick={triggerFileSelectPopup} >\n\n\t\t\t\t\t\t\t<div className='select-img-wrapper'>\n\t\t\t\t\t\t\t\t<FaCamera />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Please Select an image</p>\n\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div className='container-buttons'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onSelectFile}\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className='MdClear' onClick={() => onClear()} >\n\t\t\t\t\t\t<MdClear />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className='CgBrowser' onClick={triggerFileSelectPopup} >\n\t\t\t\t\t\t<CgBrowser />\n\t\t\t\t\t</button>\n\n\n\t\t\t\t\t<button className='FiUpload' onClick={onUpload}>\n\t\t\t\t\t\t<FiUpload />\n\t\t\t\t\t</button>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport RenderCropper from \"./components/cropper/cropper-cover\"\nexport default function App(props) {\n\treturn <RenderCropper\n\n\t\tsendFile={(file) => {\n\t\t\tprops.selectedFile(file)\n\t\t}}\n\n\t\tclose={(close) => {\n\t\t\tprops.closeModal(close)\n\t\t}}\n\n\t/>;\n}\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport App from \"../ImageCrop/App -cover\";\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\nconst ChangeCoverPic = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState()\r\n    const history = useHistory();\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            changePic()\r\n        }\r\n    }, [url])\r\n\r\n    useEffect(() => {\r\n        if (photo) {\r\n            uploadPic()\r\n        }\r\n    }, [photo])\r\n\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n                    setUrl(data.url)\r\n\r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n    function changePic() {\r\n\r\n        fetch(\"/change-cover\", {\r\n\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                newUrl: url\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                localStorage.setItem(\"user\", JSON.stringify(data));\r\n                dispatch({ type: \"USER\", payload: data })\r\n                history.push(\"/profile\")\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <RenderSnackbar>\r\n                <SimpleBackdrop>\r\n                    <App\r\n                        selectedFile={(file) => {\r\n\r\n                            setPhoto(file)\r\n\r\n\r\n                        }}\r\n\r\n                        closeModal={(close) => {\r\n                            history.push(\"/profile\")\r\n                        }}\r\n                    />\r\n                </SimpleBackdrop>\r\n            </RenderSnackbar>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChangeCoverPic\r\n","import React, { useState } from 'react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst ChangePass = () => {\r\n    const [oldPass, setOldPass] = useState();\r\n    const [newPass, setNewPass] = useState(\"\");\r\n    const [confirmNewPass, setConfirmNewPass] = useState(\"\");\r\n    const [oldpassError, setOldPassError] = useState(false);\r\n    const [passwordOk, setPassowrdOk] = useState(true);\r\n\r\n\r\n    function passwordChanger(){\r\n        fetch(\"/user/change-password\", {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n               \r\n            },\r\n            body: JSON.stringify({\r\n                oldPass,\r\n                newPass\r\n            })\r\n        }).then(res=>{\r\n            res.json().then(data=>{\r\n                if(data.error){\r\n                    setOldPassError(true)\r\n                }\r\n                else{\r\n                    setOldPassError(false)\r\n                    notify()\r\n                }\r\n                \r\n               \r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    \r\n    }\r\n\r\n\r\n    function passwordChecker(e) {\r\n        setNewPass(e.target.value)\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n\r\n        if (re.test(String(newPass))) {\r\n            setPassowrdOk(true)\r\n        }\r\n        else {\r\n            setPassowrdOk(false)\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    const notify = () => toast.success('Password changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <p className=\"change-pass-heading\">Change your Password</p>\r\n            <div className=\"change-pass-form\">\r\n\r\n                <div className=\"change-pass-containers old-pass\">\r\n                    <input type=\"password\" value={oldPass} onChange={(e) => { setOldPass(e.target.value) }} placeholder=\"Enter Old Password\"/>\r\n                </div>\r\n\r\n                <div className=\"change-pass-containers new-pass\">\r\n                    <input type=\"password\" value={newPass} onChange={(e) => { passwordChecker(e) }} placeholder=\"Enter New Password\"/>\r\n                </div>\r\n\r\n                <div className=\"change-pass-containers\">\r\n                    <input type=\"password\" value={confirmNewPass} onChange={(e) => { setConfirmNewPass(e.target.value) }} placeholder=\"Enter Confirm Password\"/>\r\n                </div>\r\n\r\n                {(newPass !== confirmNewPass) ?\r\n                    <div className=\"settings-error-container\">\r\n                        <p><li>new password and confirm password does not match</li></p>\r\n                    </div> : null}\r\n\r\n\r\n                {(passwordOk) ?null:\r\n                    <div className=\"settings-error-container\">\r\n                        <p><li>new Password must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</li></p>\r\n                    </div> }\r\n\r\n             \r\n\r\n                {(oldpassError) ? <div className=\"settings-error-container\">\r\n                    <p><li>Wrong old password</li></p>\r\n                </div> : null}\r\n\r\n\r\n                {(oldPass) && (passwordOk) && (newPass === confirmNewPass) ?<button  onClick={(e) => {passwordChanger()}}>Submit</button>: <button >Submit</button>}\r\n\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChangePass\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { UserContext } from \"../../../contexts/UserContext\"\r\n\r\nconst ChangeName = () => {\r\n\r\n    const [newName, setNewName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const { state, dispatch } = useContext(UserContext)\r\n    function changeName() {\r\n        fetch(\"/user/change-name\", {\r\n            method: 'put',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                newName\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    setError(true)\r\n                }\r\n                else {\r\n\r\n                    const updated = JSON.parse(localStorage.getItem(\"user\"));\r\n                    updated.name = newName;\r\n                    dispatch({ type: \"USER\", payload: updated })\r\n                    localStorage.setItem(\"user\", JSON.stringify(updated));\r\n                    notify()\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const notify = () => toast.success('Name changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer />\r\n            <p className=\"change-name-heading\">Change your name</p>\r\n            <div className=\"change-name-form\">\r\n                <input type=\"text\" value={newName} onChange={(e) => { setNewName(e.target.value) }} placeholder=\"Enter New Name here...\" />\r\n\r\n\r\n                {(error) ? <div className=\"settings-error-container\">\r\n                    <p>Please enter all the fields correctly</p>\r\n                </div> : null}\r\n            </div>\r\n            <button className=\"change-name-button\" onClick={() => { changeName() }}>Change Name</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChangeName\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../../contexts/UserContext'\r\n\r\nimport { MdErrorOutline } from \"react-icons/md\";\r\n\r\nconst DeleteAccount = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [error , setError] = useState(false);\r\n    const [password, setPassword] = useState(\"\");\r\n    const [agreed, setAgreed] = useState(false);\r\n   \r\n\r\n\r\n    function removeAcc() {\r\n        fetch(\"/user/delete-account\", {\r\n            method: \"delete\",\r\n            headers: {\r\n                'Content-Type': \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                checked: agreed,\r\n                password\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error){\r\n                  \r\n                   setError(true)\r\n                }\r\n                else{\r\n                    setError(false)\r\n                localStorage.clear();\r\n                dispatch({ type: \"CLEAR\" })\r\n                history.push(\"/sign-in\")\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <p className=\"delete-acc-heading\">Delete your account</p>\r\n            <div className=\"delete-acc-form\">\r\n                <div>\r\n                    <input type=\"password\" value={password} onChange={(e) => { setPassword(e.target.value) }} placeholder=\"Enter Password\"/>\r\n\r\n                </div>\r\n\r\n                <div className=\"delete-acc-confirmation\">\r\n                    <input type=\"checkbox\" onChange={(e) => { \r\n                          setAgreed(e.target.checked)\r\n                        }} />\r\n                    <p>I am sure and I want to delete my account permanently</p>\r\n                </div>\r\n                \r\n                {(error)?<div className=\"settings-error-container\">\r\n                    <p>Please enter all the fields correctly</p>\r\n                </div>:null}\r\n                \r\n            </div>\r\n            <button className=\"delete-acc-button\" onClick={() => { removeAcc() }}>Delete</button>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DeleteAccount\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../../contexts/UserContext'\r\n\r\nimport { MdErrorOutline } from \"react-icons/md\";\r\n\r\nconst SignOutSettings = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [error , setError] = useState(false);\r\n    const [agreed, setAgreed] = useState(false);\r\n   \r\n\r\n\r\n    function logoutHandler(){\r\n                    localStorage.clear();\r\n                    dispatch({ type: \"CLEAR\" })\r\n                    history.push(\"/sign-in\")\r\n\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <p className=\"delete-acc-heading\">Signout</p>\r\n            <div className=\"delete-acc-form\">\r\n               \r\n                <div className=\"delete-acc-confirmation\">\r\n                    <input type=\"checkbox\" onChange={(e) => { \r\n                          setAgreed(e.target.checked)\r\n                        }} />\r\n                    <p> I want to signout.</p>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n            <button className=\"delete-acc-button\" onClick={() =>{agreed && logoutHandler() }}>Sign out</button>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignOutSettings\r\n","import React,{ useContext} from 'react'\r\nimport { Link, Switch, Route, BrowserRouter, useHistory } from \"react-router-dom\"\r\nimport ChangePass from \"./components/ChangePass.js\"\r\nimport ChangeName from \"./components/ChangeName.js\"\r\nimport DeleteAccount from \"./components/DeleteAccount\"\r\nimport SignOutSettings from './components/SignOutSetting.js'\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\n\r\nconst Settings = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const history = useHistory()\r\n    \r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n            </div>\r\n            <div className=\"settings-container\">\r\n\r\n                <div className=\"settings-link-container\">\r\n\r\n                    <Link to=\"/settings/change-name\" className={window.location.pathname===\"/settings/change-name\"?\"settings-link settings-link-Active\":\"settings-link\"}>Change Name</Link>\r\n                    <Link to=\"/settings/change-password\" className=\"settings-link\" className={window.location.pathname===\"/settings/change-password\"?\"settings-link settings-link-Active\":\"settings-link\"}>Change Password</Link>\r\n                    <Link to=\"/settings/delete-account\" className=\"settings-link\" className={window.location.pathname===\"/settings/delete-account\"?\"settings-link settings-link-Active\":\"settings-link\"}>Delete Account</Link>\r\n                    <Link to=\"/settings/signout-settings\" className=\"settings-link\" className={window.location.pathname===\"/settings/signout-settings\"?\"settings-link settings-link-Active\":\"settings-link\"}>Sign Out</Link>\r\n                </div>\r\n\r\n                <div className=\"settings-each-container\">\r\n\r\n                    <Switch>\r\n                        <Route path=\"/settings/change-password\" exact component={ChangePass} />\r\n                        <Route path=\"/settings/change-name\" exact component={ChangeName} />\r\n                        <Route path=\"/settings/delete-account\" exact component={DeleteAccount} />\r\n                        <Route path=\"/settings/signout-settings\" exact component={SignOutSettings} />\r\n                    </Switch>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React, { useState } from 'react'\r\n\r\n\r\nconst ForgotPass = (props) => {\r\n    const [email, setEmail] = useState();\r\n    const [sucess  ,setSucess] = useState(false);\r\n    const [notFoundError ,setNotFoundError] = useState(false);\r\n\r\n    function forgotPassHandler() {\r\n        fetch(\"/auth/forgot-password\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                email\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error) {\r\n                    setNotFoundError(true)\r\n                }\r\n                else{\r\n                    setNotFoundError(false)\r\n                    setSucess(true)\r\n                }\r\n               \r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"forgot-password-container\">\r\n            <p className=\"forgot-password-container-heading\" > {sucess?null:\"Enter the E-mail address\" } </p>\r\n\r\n            {(!sucess)?<div className=\"forgot-password-input-button-container\">\r\n                <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => { setEmail(e.target.value) }} />\r\n                <button onClick={() => { forgotPassHandler() }}>Submit</button>\r\n            </div>\r\n              \r\n              :\r\n            \r\n            <div className=\"forgot-password-email-sent-container\">\r\n                <p >Email has been sent to the given email address for confirmation purposes. Please click on the link provided in the email to reset your password.</p>\r\n            </div>}\r\n\r\n            {(notFoundError)?\r\n            <p className=\"forgot-password-notfound-error\">No user found by this email !</p>\r\n             :null}\r\n\r\n            \r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPass\r\n","import React, { useState } from 'react'\r\nimport { useParams, useHistory } from \"react-router-dom\"\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst ResetPassword = () => {\r\n    const [newPass, setNewPass] = useState(\"\");\r\n    const [confirmNewPass, setConfirmNewPass] = useState(\"\");\r\n    const [passwordOk, setPassowrdOk] = useState(true);\r\n    const { resetToken } = useParams();\r\n    const {tokenExp , setTokenExp} = useState(false)\r\n   \r\n    const [isNewPassTouched, setIsNewPassTouched] = useState(false);\r\n    const isNewPassValid = newPass.trim() !== \"\" && newPassChecker()\r\n    const isnewPassInvalid = !isNewPassValid && isNewPassTouched\r\n\r\n\r\n    const history = useHistory();\r\n\r\n    var isFormValid = false;\r\n\r\n\r\n\r\n    if (isNewPassValid && (confirmNewPass == newPass)) {\r\n\r\n        isFormValid = true\r\n    }\r\n    function newPassChecker() {\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n\r\n        if (re.test(String(newPass))) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n\r\n    }\r\n\r\n    function newPassHandler(e) {\r\n        setNewPass(e.target.value)\r\n    }\r\n\r\n    function newPassBlurHandler() {\r\n        setIsNewPassTouched(true)\r\n    }\r\n\r\n    function resetPassHandler() {\r\n        fetch(\"/auth/reset-password\", {\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                resetToken,\r\n                newPass\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error){\r\n                    notify2();\r\n                    setInterval(() => {\r\n                        history.push(\"/forgot-password\")\r\n                    }, 3000)\r\n                  \r\n                }\r\n                else{\r\n                    notify1()\r\n                setTimeout(() => {\r\n                    history.push(\"/sign-in\")\r\n                }, 2000)\r\n            }\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const notify1 = () => toast.success('Password changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n    const notify2 = () => toast.error('Token expired. Try Again', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n\r\n    if (tokenExp) {\r\n        return <div className=\"reset-password-container\">\r\n            <div className=\"forgot-password-email-sent-container\">\r\n                <p >Sorry the token has expired please <a href=\"/forgot-password\" style={{ color: `blue` }}>try again</a>.</p>\r\n            </div>\r\n        </div>\r\n    }\r\n    \r\n\r\n    return (<>\r\n        <ToastContainer/>     \r\n        <div className=\"reset-password-container\">\r\n            <p className=\"forgot-password-container-heading\" > {false ? null : \"Enter new password\"} </p>\r\n           \r\n            <div className=\"reset-password-newpass\">\r\n                <label></label>\r\n                <input type=\"password\" value={newPass} onChange={(e) => { newPassHandler(e) }} onBlur={() => { newPassBlurHandler() }} placeholder=\"New Password\" />\r\n            </div>\r\n\r\n            <div className=\"reset-password-confirmpass\">\r\n                <label></label>\r\n                <input type=\"password\" value={confirmNewPass} onChange={(e) => { setConfirmNewPass(e.target.value) }} placeholder=\"Confirm Password\" />\r\n            </div>\r\n\r\n            {(newPass !== confirmNewPass) &&\r\n                <div className=\"settings-error-container\">\r\n                    <p><li>new password and confirm password does not match</li></p>\r\n                </div>}\r\n\r\n\r\n            {(isnewPassInvalid) &&\r\n                <div className=\"settings-error-container\">\r\n                    <p><li>new Password must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</li></p>\r\n                </div>}\r\n\r\n            {isFormValid ? <button onClick={(e) => { resetPassHandler() }}>Submit</button> : <button >Submit</button>}\r\n          \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\nimport \"./FourOFourError.css\"\r\nimport { BiErrorCircle } from 'react-icons/bi'\r\n\r\n\r\nconst FourOFourError = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <div className=\"FOF-page\">\r\n            <div className=\"FOF-container\">\r\n                <h1>404</h1>\r\n                <div className=\"error-svg-container\">\r\n                    <BiErrorCircle />\r\n                </div>\r\n                <h3>Page not found </h3>\r\n                <button onClick={() => { history.goBack() }}>Go Back</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FourOFourError\r\n","import React from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\nimport \"./FourOFourError.css\"\r\nimport { BiErrorCircle } from 'react-icons/bi'\r\n\r\nconst FIVEOO = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <div className=\"FOF-page\">\r\n            <div className=\"FOF-container\">\r\n                <h1>500</h1>\r\n                <div className=\"error-svg-container\">\r\n                    <BiErrorCircle />\r\n                </div>\r\n                <h3>Server Error</h3>\r\n                <button onClick={()=>{history.goBack()}}>Go Back</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FIVEOO\r\n","import {useReducer} from \"react\";\r\n\r\nexport const initialState = null;\r\n\r\nexport function reducer (state , action){\r\n    if(action.type === \"USER\"){\r\n        return action.payload;\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n} ","import{ useEffect, useReducer, useContext } from \"react\";\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, useHistory ,Redirect} from \"react-router-dom\"\nimport Home from \"./components/home/Home.js\"\nimport SignIn from \"./components/signIn/SignIn\"\nimport SignUp from \"./components/signUp/SignUp\"\nimport Profile from \"./components/profile/Profile\"\nimport OtherProfile from \"./components/otherProfile/OtherProfile\"\nimport ChangeProfilePic from \"./components/Change/ChangeProfilePic\"\nimport ChangeCoverPic from \"./components/Change/ChangeCoverPic\"\nimport Settings from \"./components/settings/Settings\"\nimport ForgotPass from \"./components/forgotPassword/ForgotPass\"\nimport ResetPassword from \"./components/forgotPassword/ResetPassword\"\nimport FourOFourError from \"./components/Errors/FourOFourError\"\nimport FIVEOO from \"./components/Errors/FIVEOO\"\n\nimport \"./components/navbar/Navbar.css\"\nimport \"./components/signIn/SignIn.css\"\nimport \"./components/signUp/SignUp.css\"\nimport \"./components/profile/Profile.css\"\nimport \"./components/home/Home.css\"\nimport \"./components/create-post/CreatePost.css\"\nimport \"./components/home/PostModal.css\"\nimport \"./components/ImageCrop/index.css\"\nimport \"./components/settings/Settings.css\"\nimport \"./components/rightSideBar/RightSideBar.css\"\nimport \"./components/leftSideBar/LeftSideBar.css\"\nimport \"./components/forgotPassword/ForgotResetPass.css\"\n\nimport \"./components/ImageCrop/components/cropper/cropper.css\"\nimport { reducer, initialState } from \"./reducers/UserReducer\"\nimport { UserContext } from \"./contexts/UserContext\"\nimport { useParams } from \"react-router-dom\"\n\n\n\n\nfunction Routing() {\n  const { userid } = useParams();\n  const {resetToken} = useParams();\n \n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n \n    if (user) {\n      dispatch({ type: \"USER\", payload: user })\n\n    }\n   \n    else {\n      if((!history.location.pathname.startsWith(\"/forgot-password\")) && (!history.location.pathname.startsWith(\"/reset-password\")) ){\n      history.push(\"/sign-in\")}\n    }\n  }, [])\n\n  return <div className=\"home-toggling-container\">\n\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/sign-in\" exact component={SignIn} />\n      <Route path=\"/sign-up\" exact component={SignUp} />\n      <Route path=\"/profile\" exact component={Profile} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/change-cover-picture\" component={ChangeCoverPic} />\n      <Route path=\"/forgot-password\" component={ForgotPass} />\n      <Route path=\"/change-profile-picture\" exact component={ChangeProfilePic} />\n      <Route path=\"/:userid\" exact component={OtherProfile} />\n      <Route path=\"/reset-password/:resetToken\" exact ><ResetPassword/> </Route>\n      <Route path=\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\" component={FIVEOO} />\n      <Route path=\"/ERROR404/aoisdfhaisohdfoashfoasidfhasoidfhoasifh\" component={FourOFourError} />\n      <Route path=\"*\" render={() => <Redirect to='/ERROR404/aoisdfhaisohdfoashfoasidfhasoidfhoasifh' />} />\n\n\n    </Switch>\n\n\n  </div>\n}\n\nfunction App() {\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <>\n      <Router>\n\n        <UserContext.Provider value={{ state, dispatch }}>\n        <Routing />\n        </UserContext.Provider>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />,document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}